{"ast":null,"code":"import { loginUser } from \"../utils/api.js\";\nimport { showLoading, hideLoading } from \"react-redux-loading\";\nimport { handleInitialData } from \"./shared\";\nexport const SET_AUTHED_USER = 'SET_AUTHED_USER';\nexport const REMOVE_AUTHED_USER = 'REMOVE_AUTHED_USER';\nexport function setAuthedUser(username, authToken) {\n  return {\n    type: SET_AUTHED_USER,\n    username,\n    authToken\n  };\n}\nexport function removeAuthedUser() {\n  return {\n    type: REMOVE_AUTHED_USER\n  };\n}\nexport function handleLogin(username, password) {\n  return dispatch => {\n    dispatch(showLoading());\n    loginUser((username, password)).then(data => {\n      dispatch(setAuthedUser(username, data.accessToken));\n      handleInitialData(data.accessToken);\n    }, err => console.log(\"User login failed: \" + err)).then(() => {\n      dispatch(hideLoading());\n    });\n  };\n}","map":{"version":3,"sources":["C:/Users/npzap/dev/strider-general-store/react-client/src/actions/authedUser.js"],"names":["loginUser","showLoading","hideLoading","handleInitialData","SET_AUTHED_USER","REMOVE_AUTHED_USER","setAuthedUser","username","authToken","type","removeAuthedUser","handleLogin","password","dispatch","then","data","accessToken","err","console","log"],"mappings":"AAAA,SAASA,SAAT,QAA0B,iBAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAwC,qBAAxC;AACA,SAAQC,iBAAR,QAAgC,UAAhC;AAEA,OAAO,MAAMC,eAAe,GAAG,iBAAxB;AACP,OAAO,MAAMC,kBAAkB,GAAG,oBAA3B;AAEP,OAAO,SAASC,aAAT,CAAwBC,QAAxB,EAAkCC,SAAlC,EAA6C;AAChD,SAAO;AACHC,IAAAA,IAAI,EAAEL,eADH;AAEHG,IAAAA,QAFG;AAGHC,IAAAA;AAHG,GAAP;AAKH;AAED,OAAO,SAASE,gBAAT,GAA6B;AAChC,SAAO;AACHD,IAAAA,IAAI,EAAEJ;AADH,GAAP;AAGH;AAED,OAAO,SAASM,WAAT,CAAqBJ,QAArB,EAA+BK,QAA/B,EAAyC;AAC5C,SAAQC,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAACZ,WAAW,EAAZ,CAAR;AACAD,IAAAA,SAAS,EAAEO,QAAQ,EAAEK,QAAZ,EAAT,CAAgCE,IAAhC,CACKC,IAAD,IAAU;AACNF,MAAAA,QAAQ,CAACP,aAAa,CAACC,QAAD,EAAWQ,IAAI,CAACC,WAAhB,CAAd,CAAR;AACAb,MAAAA,iBAAiB,CAACY,IAAI,CAACC,WAAN,CAAjB;AACH,KAJL,EAKKC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAY,wBAAwBF,GAApC,CALb,EAOCH,IAPD,CAOM,MAAM;AACRD,MAAAA,QAAQ,CAACX,WAAW,EAAZ,CAAR;AACH,KATD;AAUH,GAZD;AAaH","sourcesContent":["import { loginUser } from \"../utils/api.js\";\r\nimport { showLoading, hideLoading} from \"react-redux-loading\";\r\nimport {handleInitialData} from \"./shared\";\r\n\r\nexport const SET_AUTHED_USER = 'SET_AUTHED_USER'\r\nexport const REMOVE_AUTHED_USER = 'REMOVE_AUTHED_USER'\r\n\r\nexport function setAuthedUser (username, authToken) {\r\n    return {\r\n        type: SET_AUTHED_USER,\r\n        username,\r\n        authToken\r\n    }\r\n}\r\n\r\nexport function removeAuthedUser () {\r\n    return {\r\n        type: REMOVE_AUTHED_USER\r\n    }\r\n}\r\n\r\nexport function handleLogin(username, password) {\r\n    return (dispatch) => {\r\n        dispatch(showLoading());\r\n        loginUser((username, password)).then(\r\n            (data) => {\r\n                dispatch(setAuthedUser(username, data.accessToken));\r\n                handleInitialData(data.accessToken);\r\n            },\r\n            (err) => console.log(\"User login failed: \" + err)\r\n        )\r\n        .then(() => {\r\n            dispatch(hideLoading())\r\n        });\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}